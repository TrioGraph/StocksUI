<div class="card">
  <div class="row" style="align-items:center;justify-content:space-between">
    <h2>Request Metrics</h2>
    <div>
      <button class="btn secondary" (click)="refresh()">Refresh</button>
      <button class="btn" (click)="exportCSV()">Export CSV</button>
    </div>
  </div>

  <table class="table" style="margin-top:12px">
    <thead>
      <tr><th>Time</th><th>Method</th><th>URL</th><th>Status</th><th>Duration (ms)</th></tr>
    </thead>
    <tbody>
      <tr *ngFor="let m of metrics">
        <td>{{m.time | date:'medium'}}</td>
        <td>{{m.method}}</td>
        <td style="max-width:600px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">{{m.url}}</td>
        <td>{{m.status}}</td>
        <td>{{m.durationMs}}</td>
      </tr>
    </tbody>
  </table>
</div>
