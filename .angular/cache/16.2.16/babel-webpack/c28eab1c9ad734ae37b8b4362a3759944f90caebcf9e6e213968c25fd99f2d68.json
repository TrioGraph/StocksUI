{"ast":null,"code":"import * as i0 from \"@angular/core\";\nlet ThemeService = /*#__PURE__*/(() => {\n  class ThemeService {\n    constructor() {\n      this.key = 'stock_ui_theme';\n      this.fontKey = 'stock_ui_font';\n      this.motionKey = 'stock_ui_motion';\n      this.loadedFonts = new Set();\n    }\n    setTheme(name) {\n      document.documentElement.setAttribute('data-theme', name);\n      localStorage.setItem(this.key, name);\n    }\n    setFont(name) {\n      // name: font id (poppins, inter, roboto, source, nunito, serif, mono)\n      this.loadFont(name).finally(() => {\n        document.documentElement.setAttribute('data-font', name);\n        localStorage.setItem(this.fontKey, name);\n      });\n    }\n    /**\n     * Load Google font family for given font id lazily.\n     */\n    loadFont(id) {\n      if (!id) return Promise.resolve();\n      if (this.loadedFonts.has(id)) {\n        return Promise.resolve();\n      }\n      const map = {\n        poppins: 'Poppins:wght@300;400;600;700',\n        inter: 'Inter:wght@300;400;600;700',\n        roboto: 'Roboto:wght@300;400;500;700',\n        source: 'Source+Sans+3:wght@300;400;600',\n        nunito: 'Nunito:wght@300;400;700',\n        serif: 'Merriweather:wght@300;400;700',\n        mono: 'JetBrains+Mono:wght@400;600'\n      };\n      const family = map[id] || map['inter'];\n      // construct href\n      const href = `https://fonts.googleapis.com/css2?family=${family}&display=swap`;\n      return new Promise((res, rej) => {\n        try {\n          const exists = Array.from(document.getElementsByTagName('link')).some(l => l.href === href);\n          if (exists) {\n            this.loadedFonts.add(id);\n            res();\n            return;\n          }\n          const link = document.createElement('link');\n          link.rel = 'stylesheet';\n          link.href = href;\n          link.onload = () => {\n            this.loadedFonts.add(id);\n            res();\n          };\n          link.onerror = e => {\n            rej(e);\n          };\n          document.head.appendChild(link);\n        } catch (e) {\n          rej(e);\n        }\n      });\n    }\n    setMotion(mode) {\n      // mode: 'full' | 'reduced' | 'none'\n      const val = mode === 'full' ? '' : mode; // empty means default (no attribute)\n      if (val) {\n        document.documentElement.setAttribute('data-motion', val);\n        localStorage.setItem(this.motionKey, val);\n      } else {\n        document.documentElement.removeAttribute('data-motion');\n        localStorage.removeItem(this.motionKey);\n      }\n    }\n    getTheme() {\n      return localStorage.getItem(this.key) || document.documentElement.getAttribute('data-theme') || 'light';\n    }\n    getFont() {\n      return localStorage.getItem(this.fontKey) || document.documentElement.getAttribute('data-font') || 'sans';\n    }\n    getMotion() {\n      return localStorage.getItem(this.motionKey) || document.documentElement.getAttribute('data-motion') || 'full';\n    }\n    static {\n      this.ɵfac = function ThemeService_Factory(t) {\n        return new (t || ThemeService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: ThemeService,\n        factory: ThemeService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return ThemeService;\n})();\nexport { ThemeService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}