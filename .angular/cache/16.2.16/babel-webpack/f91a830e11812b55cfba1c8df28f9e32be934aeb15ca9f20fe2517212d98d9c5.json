{"ast":null,"code":"import { FormGroup, FormArray } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nfunction FormViewerComponent_div_0_div_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"fieldset\")(2, \"legend\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"app-form-viewer\", 9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const k_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(k_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"form\", ctx_r3.getControl(k_r2));\n  }\n}\nfunction FormViewerComponent_div_0_div_1_div_3_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-form-viewer\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const it_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"form\", it_r8);\n  }\n}\nfunction FormViewerComponent_div_0_div_1_div_3_div_4_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    const i_r9 = ctx_r14.index;\n    const it_r8 = ctx_r14.$implicit;\n    const k_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", k_r2, \"[\", i_r9, \"]\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControl\", it_r8);\n  }\n}\nfunction FormViewerComponent_div_0_div_1_div_3_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtemplate(1, FormViewerComponent_div_0_div_1_div_3_div_4_div_1_Template, 2, 1, \"div\", 14);\n    i0.ɵɵtemplate(2, FormViewerComponent_div_0_div_1_div_3_div_4_div_2_Template, 4, 3, \"div\", 14);\n    i0.ɵɵelementStart(3, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function FormViewerComponent_div_0_div_1_div_3_div_4_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const i_r9 = restoredCtx.index;\n      const k_r2 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.removeArrayItem(k_r2, i_r9));\n    });\n    i0.ɵɵtext(4, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const it_r8 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.isGroup(it_r8));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.isGroup(it_r8));\n  }\n}\nfunction FormViewerComponent_div_0_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"fieldset\")(2, \"legend\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, FormViewerComponent_div_0_div_1_div_3_div_4_Template, 5, 2, \"div\", 11);\n    i0.ɵɵelementStart(5, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function FormViewerComponent_div_0_div_1_div_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const k_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.addArrayItem(k_r2));\n    });\n    i0.ɵɵtext(6, \"Add\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const k_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", k_r2, \" (array)\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.getControl(k_r2).controls);\n  }\n}\nfunction FormViewerComponent_div_0_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const k_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(k_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControl\", ctx_r5.getControl(k_r2));\n  }\n}\nfunction FormViewerComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementContainerStart(1, 4);\n    i0.ɵɵtemplate(2, FormViewerComponent_div_0_div_1_div_2_Template, 5, 2, \"div\", 5);\n    i0.ɵɵtemplate(3, FormViewerComponent_div_0_div_1_div_3_Template, 7, 2, \"div\", 6);\n    i0.ɵɵtemplate(4, FormViewerComponent_div_0_div_1_div_4_Template, 4, 2, \"div\", 7);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const k_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r1.controlType(ctx_r1.getControl(k_r2)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"group\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"array\");\n  }\n}\nfunction FormViewerComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, FormViewerComponent_div_0_div_1_Template, 5, 3, \"div\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.keys());\n  }\n}\nlet FormViewerComponent = /*#__PURE__*/(() => {\n  class FormViewerComponent {\n    constructor(fb) {\n      this.fb = fb;\n    }\n    keys() {\n      return this.form ? Object.keys(this.form.controls) : [];\n    }\n    getControl(key) {\n      return this.form.get(key);\n    }\n    controlType(c) {\n      if (!c) return 'control';\n      if (c instanceof FormGroup) return 'group';\n      if (c instanceof FormArray) return 'array';\n      return 'control';\n    }\n    isGroup(c) {\n      return c instanceof FormGroup;\n    }\n    removeArrayItem(key, idx) {\n      const arr = this.getControl(key);\n      arr.removeAt(idx);\n    }\n    addArrayItem(key) {\n      const arr = this.getControl(key);\n      // add a simple blank control or group depending on first item\n      if (arr.length && this.isGroup(arr.at(0))) {\n        arr.push(this.fb.group({}));\n      } else {\n        arr.push(this.fb.control(''));\n      }\n    }\n    static {\n      this.ɵfac = function FormViewerComponent_Factory(t) {\n        return new (t || FormViewerComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: FormViewerComponent,\n        selectors: [[\"app-form-viewer\"]],\n        inputs: {\n          form: \"form\"\n        },\n        decls: 1,\n        vars: 1,\n        consts: [[\"class\", \"form-viewer\", 4, \"ngIf\"], [1, \"form-viewer\"], [\"class\", \"form-row\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-row\"], [3, \"ngSwitch\"], [\"class\", \"group\", 4, \"ngSwitchCase\"], [\"class\", \"array\", 4, \"ngSwitchCase\"], [\"class\", \"control\", 4, \"ngSwitchDefault\"], [1, \"group\"], [3, \"form\"], [1, \"array\"], [\"class\", \"array-item\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"btn\", 3, \"click\"], [1, \"array-item\"], [4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"tiny\", 3, \"click\"], [3, \"formControl\"], [1, \"control\"]],\n        template: function FormViewerComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, FormViewerComponent_div_0_Template, 2, 1, \"div\", 0);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.form);\n          }\n        },\n        dependencies: [i2.NgForOf, i2.NgIf, i2.NgSwitch, i2.NgSwitchCase, i2.NgSwitchDefault, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlDirective, FormViewerComponent],\n        styles: [\".form-viewer[_ngcontent-%COMP%]{display:block}.form-row[_ngcontent-%COMP%]{margin-bottom:10px}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:6px}.array-item[_ngcontent-%COMP%]{padding:8px;border:1px dashed var(--muted);margin-bottom:8px}.group[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{border:1px solid #e2e8f0;padding:8px}.btn.tiny[_ngcontent-%COMP%]{padding:4px 8px;font-size:12px}\"]\n      });\n    }\n  }\n  return FormViewerComponent;\n})();\nexport { FormViewerComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}