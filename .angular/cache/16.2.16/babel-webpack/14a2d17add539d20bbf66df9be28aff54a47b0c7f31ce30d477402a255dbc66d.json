{"ast":null,"code":"import { HttpResponse } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nlet CachingInterceptor = /*#__PURE__*/(() => {\n  class CachingInterceptor {\n    constructor() {\n      this.cache = new Map();\n      this.ttl = 60000; // 60s\n    }\n\n    intercept(req, next) {\n      if (req.method !== 'GET') {\n        return next.handle(req);\n      }\n      const key = req.urlWithParams;\n      const cached = this.cache.get(key);\n      const now = Date.now();\n      if (cached && now - cached.added < this.ttl) {\n        return of(cached.response.clone());\n      }\n      return new Observable(observer => {\n        const sub = next.handle(req).subscribe({\n          next: event => {\n            if (event instanceof HttpResponse) {\n              this.cache.set(key, {\n                url: key,\n                response: event.clone(),\n                added: Date.now()\n              });\n            }\n            observer.next(event);\n          },\n          error: err => observer.error(err),\n          complete: () => observer.complete()\n        });\n        return () => sub.unsubscribe();\n      });\n    }\n    static {\n      this.ɵfac = function CachingInterceptor_Factory(t) {\n        return new (t || CachingInterceptor)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: CachingInterceptor,\n        factory: CachingInterceptor.ɵfac\n      });\n    }\n  }\n  return CachingInterceptor;\n})();\nexport { CachingInterceptor };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}